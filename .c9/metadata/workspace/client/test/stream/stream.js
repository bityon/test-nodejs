{"filter":false,"title":"stream.js","tooltip":"/client/test/stream/stream.js","ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":16,"column":0},"end":{"row":20,"column":0},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"680bd7f37b0528869a9861c9e2e179f82a41b6f2","changed":true,"value":"var http = require('http');\nvar fs = require('fs');\n\nvar server = http.createServer(function (req, res) {\n    var fs = require(\"fs\");\n    var zlib = require(\"zlib\");\n    \n    // Read File\n    fs.createReadStream(\"text.txt\")\n        // Gzip\n        .pipe(zlib.createGzip())\n        // Write File\n        .pipe(fs.createWriteStream(\"text.gz\"));\n    // var stream = fs.createReadStream(__dirname + '/text.txt');\n    // stream.pipe(res);\n});\nserver.listen(process.env.PORT || 3000, process.env.IP || \"0.0.0.0\", function(){\n  var addr = server.address();\n  console.log(\"Server listening at\", addr.address + \":\" + addr.port);\n});\n\n\n","undoManager":{"mark":21,"position":21,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":7,"column":20},"action":"insert","lines":["var http = require('http');","var fs = require('fs');","","var server = http.createServer(function (req, res) {","    var stream = fs.createReadStream(__dirname + '/text.txt');","    stream.pipe(res);","});","server.listen(3000);"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":6},"end":{"row":7,"column":20},"action":"remove","lines":[".listen(3000);"]},{"start":{"row":7,"column":6},"end":{"row":11,"column":0},"action":"insert","lines":[".listen(process.env.PORT || 3000, process.env.IP || \"0.0.0.0\", function(){","  var addr = MyServer.address();","  console.log(\"Server listening at\", addr.address + \":\" + addr.port);","});",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":13},"end":{"row":8,"column":21},"action":"remove","lines":["MyServer"]},{"start":{"row":8,"column":13},"end":{"row":8,"column":14},"action":"insert","lines":["ד"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":14},"end":{"row":8,"column":15},"action":"insert","lines":["ק"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":15},"end":{"row":8,"column":16},"action":"insert","lines":["ר"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":15},"end":{"row":8,"column":16},"action":"remove","lines":["ר"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":14},"end":{"row":8,"column":15},"action":"remove","lines":["ק"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":13},"end":{"row":8,"column":14},"action":"remove","lines":["ד"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":13},"end":{"row":8,"column":14},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":14},"end":{"row":8,"column":15},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":15},"end":{"row":8,"column":16},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":16},"end":{"row":8,"column":17},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":17},"end":{"row":8,"column":18},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":18},"end":{"row":8,"column":19},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":4},"end":{"row":4,"column":7},"action":"insert","lines":["// "]},{"start":{"row":5,"column":4},"end":{"row":5,"column":7},"action":"insert","lines":["// "]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":52},"end":{"row":4,"column":0},"action":"insert","lines":["",""]},{"start":{"row":4,"column":0},"end":{"row":4,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":4},"end":{"row":13,"column":43},"action":"insert","lines":["","var fs = require(\"fs\");","var zlib = require(\"zlib\");","","// Read File","fs.createReadStream(\"text.txt\")","    // Gzip","    .pipe(zlib.createGzip())","    // Write File","    .pipe(fs.createWriteStream(\"text.gz\"));"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"insert","lines":["    "]},{"start":{"row":6,"column":0},"end":{"row":6,"column":4},"action":"insert","lines":["    "]},{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"insert","lines":["    "]},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "]},{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"insert","lines":["    "]},{"start":{"row":10,"column":0},"end":{"row":10,"column":4},"action":"insert","lines":["    "]},{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"insert","lines":["    "]},{"start":{"row":12,"column":0},"end":{"row":12,"column":4},"action":"insert","lines":["    "]},{"start":{"row":13,"column":0},"end":{"row":13,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":0},"end":{"row":4,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":52},"end":{"row":4,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":0},"end":{"row":21,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":22,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":0},"end":{"row":33,"column":3},"action":"insert","lines":["var net = require('net');","var server = net.createServer(function(socket) { //'connection' listener","    console.log('server connected');","    socket.on('end', function() {","        console.log('server disconnected');","    });","    socket.write('hello\\r\\n');","    socket.pipe(socket);","});","server.listen(1311, function() { //'listening' listener","    console.log('server bound');","});"]}]}]]},"timestamp":1424082528000}